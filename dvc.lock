schema: '2.0'
stages:
  prepare_demo:
    cmd: uv run python src/glm/preprocess_2detect.py mode2 demo
    deps:
    - path: src/glm/datasets/raw/2detect
      hash: md5
      md5: 67e7e6227a3c83214c1c50fb338e4eea.dir
      size: 19026176
      nfiles: 6
    - path: src/glm/preprocess_2detect.py
      hash: md5
      md5: ccfb656291e0f83eff067e63aece625d
      size: 2538
    params:
      params.yaml:
        demo:
          data:
            raw_path: src/glm/datasets/raw/2detect
            processed_path: src/glm/datasets/processed/2detect
    outs:
    - path: src/glm/datasets/processed/2detect
      hash: md5
      md5: 714c75e736e98e6bc7d0dc4f76f59684.dir
      size: 31727360
      nfiles: 2
  run_demo:
    cmd: uv run python src/glm/run_demo.py
    deps:
    - path: src/glm/datasets/processed/2detect
      hash: md5
      md5: 714c75e736e98e6bc7d0dc4f76f59684.dir
      size: 31727360
      nfiles: 2
    - path: src/glm/run_demo.py
      hash: md5
      md5: 823e9329d6707a6969fb6083ef7ebfff
      size: 1764
    params:
      params.yaml:
        demo:
          data:
            raw_path: src/glm/datasets/raw/2detect
            processed_path: src/glm/datasets/processed/2detect
    outs:
    - path: src/glm/images/demo/reconstruction.jpg
      hash: md5
      md5: adabdd0eaeb774cc657f8dcf94463ce4
      size: 19440
    - path: src/glm/images/demo/sinogram.jpg
      hash: md5
      md5: d4dc6bc5c72eb4a1ab531d8b3a4b56d3
      size: 44615
    - path: src/glm/images/demo/target.jpg
      hash: md5
      md5: e5f2c9ec0db9eba50b26030098d442cd
      size: 21199
  prepare_training:
    cmd: uv run python src/glm/preprocess_2detect.py mode2 train
    deps:
    - path: /home/emilien/datasets/raw/2detect
      hash: md5
      md5: e4ac8fdf7a5d8002a946f8b988c777d5.dir
      size: 316154324027
      nfiles: 92001
    - path: src/glm/preprocess_2detect.py
      hash: md5
      md5: ccfb656291e0f83eff067e63aece625d
      size: 2538
    params:
      params.yaml:
        train:
          data:
            raw_path: /home/emilien/datasets/raw/2detect
            processed_path: /home/emilien/datasets/processed/2detect
    outs:
    - path: /home/emilien/datasets/processed/2detect
      hash: md5
      md5: c9b5188af6c5685168104b496816ee67.dir
      size: 182432320000
      nfiles: 11500
